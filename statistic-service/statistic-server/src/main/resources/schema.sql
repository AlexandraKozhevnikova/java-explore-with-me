DROP TABLE IF EXISTS hit;

DROP TABLE IF EXISTS app;

CREATE TABLE IF NOT EXISTS app (
    app_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title  varchar(255) NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS hit (
    hit_id    BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    app_id    BIGINT       NOT NULL REFERENCES app (app_id) ON DELETE SET NULL,
    uri       VARCHAR(255) NOT NULL,
    ip        VARCHAR(255) NOT NULL,
    date_time TIMESTAMP    NOT NULL
);
